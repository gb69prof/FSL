<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Scopri Foggia</title>
  <style>
    :root{
      --bg0:#0b1020; --bg1:#0e1731;
      --card:rgba(255,255,255,.07);
      --stroke:rgba(255,255,255,.14);
      --txt:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.70);
      --accent:#ffb347; --accent2:#ff5f2e;
      --shadow: 0 18px 45px rgba(0,0,0,.45);
      --radius:22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, Helvetica, sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1200px 600px at 18% 8%, rgba(255,179,71,.14), transparent 55%),
        radial-gradient(900px 500px at 78% 18%, rgba(255,95,46,.12), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      min-height:100vh;
      padding:18px;
    }
    header{
      max-width:1200px;
      margin:0 auto 14px auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .brand{display:flex;align-items:baseline;gap:10px;flex-wrap:wrap}
    .brand h1{margin:0;font-size:clamp(18px,2.2vw,28px);letter-spacing:.3px}
    .brand .tag{
      font-size:13px;color:var(--muted);
      padding:6px 10px;border:1px solid var(--stroke);
      border-radius:999px;background:rgba(0,0,0,.18);
      backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
    }
    .homebtn{
      text-decoration:none;color:var(--txt);font-size:13px;
      padding:10px 12px;border-radius:999px;border:1px solid var(--stroke);
      background:rgba(0,0,0,.18);
      backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
      transition: transform .18s ease, border-color .18s ease;
      display:inline-flex;align-items:center;gap:8px;
    }
    .homebtn:hover{transform:translateY(-1px);border-color:rgba(255,179,71,.45)}
    main{
      max-width:1200px;margin:0 auto;
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      grid-template-rows: 360px 1fr;
      gap:14px;
    }
    .panel{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
      position:relative;
    }
    #area1{grid-column:1;grid-row:1}
    #area3{grid-column:1;grid-row:2}
    #area2{grid-column:2;grid-row:1 / span 2}
    .panel-header{
      display:flex;align-items:center;justify-content:space-between;
      padding:12px 14px;border-bottom:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,0));
    }
    .panel-title{font-weight:700;font-size:14px;letter-spacing:.2px}
    .chip{
      font-size:12px;color:rgba(255,255,255,.82);
      border:1px solid rgba(255,179,71,.35);
      background:linear-gradient(135deg, rgba(255,179,71,.18), rgba(255,95,46,.12));
      padding:6px 10px;border-radius:999px;white-space:nowrap;
    }
    .mapwrap{height:calc(100% - 49px);width:100%;background:rgba(0,0,0,.15)}
    .mapwrap iframe{width:100%;height:100%;border:0;display:block;filter:saturate(1.05) contrast(1.02)}
    .textwrap{
      height:calc(100% - 49px);
      padding:14px 14px 18px 14px;
      overflow:auto;line-height:1.55;color:rgba(255,255,255,.90);
      scrollbar-width: thin;
      scrollbar-color: rgba(255,179,71,.35) rgba(255,255,255,.08);
    }
    .textwrap::-webkit-scrollbar{width:10px}
    .textwrap::-webkit-scrollbar-track{background:rgba(255,255,255,.08);border-radius:999px}
    .textwrap::-webkit-scrollbar-thumb{
      background:linear-gradient(180deg, rgba(255,179,71,.55), rgba(255,95,46,.45));
      border-radius:999px
    }
    .textwrap h2{margin:0 0 10px 0;font-size:18px}
    .textwrap p{margin:0 0 10px 0;color:rgba(255,255,255,.86)}
    .hint{
      color:rgba(255,255,255,.66);
      font-size:12px;border-top:1px dashed rgba(255,255,255,.18);
      padding-top:10px;margin-top:10px
    }
    .list{padding:14px;display:grid;gap:10px}
    .list a{
      text-decoration:none;color:var(--txt);
      background:rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.14);
      border-radius:16px;
      padding:12px 12px;
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      transition: transform .18s ease, border-color .18s ease, background .18s ease;
    }
    .list a:hover{
      transform:translateY(-2px);
      border-color:rgba(255,179,71,.45);
      background:rgba(0,0,0,.24);
    }
    .left{display:flex;align-items:center;gap:10px;min-width:0}
    .num{
      width:34px;height:34px;border-radius:12px;display:grid;place-items:center;
      font-weight:800;
      background:linear-gradient(135deg, rgba(255,179,71,.95), rgba(255,95,46,.92));
      color:#111;flex:0 0 auto;box-shadow:0 10px 20px rgba(0,0,0,.35);
    }
    .label{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .arrow{opacity:.9;flex:0 0 auto;filter:drop-shadow(0 6px 12px rgba(0,0,0,.25))}
    footer{
      max-width:1200px;margin:14px auto 0 auto;
      color:rgba(255,255,255,.55);font-size:12px;text-align:center;
    }
    @media (max-width:980px){
      main{grid-template-columns:1fr;grid-template-rows:320px 420px auto}
      #area1{grid-column:1;grid-row:1}
      #area2{grid-column:1;grid-row:2}
      #area3{grid-column:1;grid-row:3}
    }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <h1>Scopri Foggia</h1>
      <div class="tag">mappa • lettura • percorsi</div>
    </div>
    <a class="homebtn" href="../index.html">⟵ Home</a>
  </header>

  <main>
    <section id="area1" class="panel" aria-label="Mappa di Foggia">
      <div class="panel-header">
        <div class="panel-title">1 — Mappa</div>
        <div class="chip">Google Maps</div>
      </div>
      <div class="mapwrap">
        <iframe loading="lazy" referrerpolicy="no-referrer-when-downgrade"
          src="https://www.google.com/maps?q=Foggia%20Italia&output=embed"
          title="Mappa di Foggia"></iframe>
      </div>
    </section>

    <section id="area2" class="panel" aria-label="Testo Scopri">
      <div class="panel-header">
        <div class="panel-title">2 — Testo</div>
        <div class="chip">scopri.txt</div>
      </div>
      <div class="textwrap" id="scopriBox">
        <h2>Caricamento…</h2>
        <p>Sto leggendo <strong>scopri.txt</strong>.</p>
      </div>
    </section>

    <section id="area3" class="panel" aria-label="Indice luoghi">
      <div class="panel-header">
        <div class="panel-title">3 — Indice</div>
        <div class="chip">percorsi</div>
      </div>

      <nav class="list" aria-label="Elenco luoghi">
        <a href="diomedei/diomedei.html"><span class="left"><span class="num">1</span><span class="label">Campi Diomedei</span></span><span class="arrow">➜</span></a>
        <a href="arpi/arpi.html"><span class="left"><span class="num">2</span><span class="label">Via Arpi</span></span><span class="arrow">➜</span></a>
        <a href="croci/croci.html"><span class="left"><span class="num">3</span><span class="label">Chiesa delle Croci</span></span><span class="arrow">➜</span></a>
        <a href="teatro/teatro.html"><span class="left"><span class="num">4</span><span class="label">Teatro</span></span><span class="arrow">➜</span></a>
        <a href="villa/villa.html"><span class="left"><span class="num">5</span><span class="label">Villa comunale</span></span><span class="arrow">➜</span></a>
        <a href="corso/corso.html"><span class="left"><span class="num">6</span><span class="label">Corso Vittorio Emanuele II</span></span><span class="arrow">➜</span></a>
      </nav>
    </section>
  </main>

  <footer>
    Sostituisci <strong>scopri.txt</strong> con il tuo testo. I link dell’indice puntano già alle cartelle richieste.
  </footer>

  <script>
    async function loadScopri(){
      const box = document.getElementById('scopriBox');
      try{
        const res = await fetch('scopri.txt', { cache: 'no-cache' });
        if(!res.ok) throw new Error('Impossibile leggere scopri.txt');
        const txt = await res.text();

        const parts = txt.replace(/\r/g,'').split(/\n\s*\n/).map(p => p.trim()).filter(Boolean);
        let html = parts.map(p => `<p>${escapeHtml(p).replace(/\n/g,'<br>')}</p>`).join('');
        html += `<div class="hint">Titoli: se una riga è tutta MAIUSCOLA, la trasformo in titolo.</div>`;
        box.innerHTML = html;

        box.innerHTML = box.innerHTML.replace(/<p>([A-ZÀ-Ü0-9\s'’.,:-]{8,})<\/p>/g, '<h2>$1</h2>');
      }catch(err){
        box.innerHTML = `<h2>Errore</h2><p>${escapeHtml(err.message)}</p><p class="hint">Controlla che <strong>scopri.txt</strong> sia nella stessa cartella di questo index.html.</p>`;
      }
    }
    function escapeHtml(s){
      return s.replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
    }
    loadScopri();
  </script>
</body>
</html>
